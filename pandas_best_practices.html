<!DOCTYPE html>
<html lang="en">

    <head>

        <title>Timothy Helton</title>

        <meta charset="UTF-8"/>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="description" content="Timothy Helton's Projects"/>

        <link rel="stylesheet" type="text/css"
              href="assets/stylesheets/main.css">
        <link rel="stylesheet"
              href="https://fonts.googleapis.com/css?family=Lato:100,300,400">

    </head>

    <body>

        <!-- Header -->

        <header class="primary-header container group">

            <h1 class="logo">
                <a href="index.html">Timothy Helton</a>
            </h1>

            <h3 class="tagline">Learn Something New Every Day</h3>

            <nav class="nav primary-nav">
                <ul>
                    <li><a href="index.html">Home</a></li><!--
                    --><li><a href="about.html">About</a></li><!--
                    --><li><a href="projects.html">Projects</a></li><!--
                    --><li>
                        <a href="https://github.com/TimothyHelton">GitHub</a>
                       </li>
                </ul>
            </nav>

        </header>

        <!-- Hero -->

        <section class="row-alt">

            <div class="hero container">

                <h2>Pandas Best Practices</h2>

                <img class="center-img"
                     src="assets/images/python_pandas_logo.png"
                     alt="Python Pandas Logo">

            </div>

        </section>

         <!-- Teaser -->

        <section class="row">

            <div class="col-3-4">


                <h2>
                    "I think my code is well written, but this is taking
                    <em>forever</em> to run!"
                </h2>

                <p>
                    This article is going to display that sometimes
                    processing speedups come in strange places.
                    Hopefully, you will learn a trick or two and be able to
                    write some better code on your project.
                </p>

                <h2>Backgroud</h2>

                <p>
                    I have been fortunate enough to attend two different training
                    courses put on by
                    <a href="https://www.enthought.com/">
                    Enthought Scientific Computing Solutions
                    </a>.
                    The
                    <a href="https://www.enthought.com/services/training/instructors/">
                    instructors
                    </a> were Mike McKerns and Alex Chabot-Leclerc who were
                    highly knowledgeable professionals.
                    The most recent class was
                    <a href="https://www.enthought.com/services/training/pandas-mastery-workshop/">
                    Pandas Mastery Workshop
                    </a>, which I would highly recommend.
                    During the course Alexandre made numerous comments about
                    performance differences, and I wanted to document some
                    surprising methods to speed up
                    <a href="http://pandas.pydata.org/">
                    Pandas
                    </a>.
                </p>

                <h2>Notebook</h2>

                <p>
                    The notebook with all the code to recreate this study is
                    located
                    <a href="https://github.com/TimothyHelton/algorithms/blob/master/notebooks/Execution_Time.ipynb">
                    here
                    </a>.
                </p>

                <h2>Versions</h2>

                <p>
                    The following versions of packages were used to measure
                    the executions times.
                </p>

                <ul class="ul-middle">
                    <li>Python: 3.6.1</li>
                    <li>Numpy: 1.12.1</li>
                    <li>Pandas: 0.20.1</li>
                </ul>

                <p class="warning">
                    NOTE:

                    The timeit.autorange method was introduced in Python 3.6
                    and is used to automatically determine how many times to
                    call timeit in the provided notebook.
                </p>

                <h2>
                    Methodology
                </h2>

                <p>

                </p>

            </div>

        </section>

        <!-- Overhead -->

        <section class="row">

            <div class="col-3-4">

                <h2>Pandas Overhead Costs</h2>

                <p>
                    Pandas has a multitude of well thought out quality
                    methods, but there is a price to pay to get them.
                    A younger version of myself used to think, "Straight up
                    Numpy is good enough for me.", and I refused to even
                    consider a number of great packages.
                    Now that I've been reformed, one of the key ideas I
                    learned is use the packages that are out there, and when
                    something doesn't seem quite right, then it's time to
                    dig a little deeper.
                </p>

                <p>
                    When equivalent operations are performed in Numpy and
                    Pandas, Numpy is clearly faster.
                    The sunburst graphics below were generated using
                    <a href="https://jiffyclub.github.io/snakeviz/">
                        SNAKEVIZ
                    </a>, which works with
                    <a href="https://docs.python.org/3.6/library/profile.html">
                        cProfiler
                    </a> to display what is happening in the interpreter when
                    code is executed.
                </p>

                <pre>
                    <code>
                        arr = np.arange(1e6)
                    </code>
                </pre>

                <pre>
                    <code>
                        ser = pd.Series(np.arange(1e6))
                    </code>
                </pre>

                <pre>
                    <code>
                        df = pd.DataFrame(np.arange(1e6).reshape(1000, 1000))
                    </code>
                </pre>

            </div>

        </section>

        <!-- Series Numerical Operations -->

        <section class="row">

            <div class="col-3-4">

                <h2>Series Numerical Operations</h2>

                <p>
                </p>

                <img class="center-img"
                     src="assets/images/series_addition_profile.png"
                     alt="Series Addition Profile">

                <img class="center-img"
                     src="assets/images/series_multiplication_profile.png"
                     alt="Series Multiplication Profile">

            </div>

        </section>

        <!-- DataFrame Numerical Operations -->

        <section class="row">

            <div class="col-3-4">

                <h2>DataFrame Numerical Operations</h2>

                <p>
                </p>

                <img class="center-img"
                     src="assets/images/df_addition_cols_profile.png"
                     alt="DataFrame Addition Columns Profile">

                <p>

                </p>

                <img class="center-img"
                     src="assets/images/df_multiplication_cols_profile.png"
                     alt="DataFrame Multiplication Columns Profile">

                <p>

                </p>

                <img class="center-img"
                     src="assets/images/df_addition_rows_profile.png"
                     alt="DataFrame Addition Rows Profile">

                <p>

                </p>

                <img class="center-img"
                     src="assets/images/df_multiplication_rows_profile.png"
                     alt="DataFrame Muliplication Rows Profile">

            </div>

        </section>

        <!-- Aggregate -->

        <section class="row">

            <div class="col-3-4">

                <h2>Aggregate Methods</h2>

                <p>
                </p>

                <img class="center-img"
                     src="assets/images/df_applymap_profile.png"
                     alt="">

            </div>

        </section>

        <!-- Date Formats -->

        <section class="row">

            <div class="col-3-4">

                <h2>Date String Formats</h2>

                <p>
                </p>

                <img class="center-img"
                     src="assets/images/date_format_profile.png"
                     alt="Date Format Profile">

            </div>

        </section>

        <!-- Footer -->

        <footer class="primary-footer container group">

            <small>&copy; Timothy Helton</small>

            <nav class="nav primary-nav">
                <ul>
                    <li><a href="index.html">Home</a></li><!--
                    --><li><a href="about.html">About</a></li><!--
                    --><li><a href="projects.html">Projects</a></li><!--
                    --><li>
                        <a href="https://github.com/TimothyHelton">GitHub</a>
                       </li>
                </ul>
            </nav>

        </footer>

    </body>

</html>
