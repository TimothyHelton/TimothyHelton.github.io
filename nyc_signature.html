<!DOCTYPE html>
<html lang="en">

    <head>

        <title>Timothy Helton</title>

        <meta charset="UTF-8"/>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="description" content="Timothy Helton's Projects"/>

        <link rel="stylesheet" type="text/css"
              href="assets/stylesheets/main.css">
        <link rel="stylesheet"
              href="https://fonts.googleapis.com/css?family=Lato:100,300,400">

    </head>

    <body>

        <!-- Header -->

        <header class="primary-header container group">

            <h1 class="logo">
                <a href="index.html">Timothy Helton</a>
            </h1>

            <h3 class="tagline">Learn Something New Every Day</h3>

            <nav class="nav primary-nav">
                <ul>
                    <li><a href="index.html">Home</a></li><!--
                    --><li><a href="about.html">About</a></li><!--
                    --><li><a href="projects.html">Projects</a></li><!--
                    --><li><a href="blog.html">Blog</a></li><!--
                    --><li>
                        <a href="https://github.com/TimothyHelton">GitHub</a>
                       </li>
                </ul>
            </nav>

        </header>

        <!-- Hero -->

        <section class="row-alt">

            <div class="hero container">

                <h2>New York City Signature Locations</h2>

                <img class="center-img"
                     src="assets/images/nyc_signatures/signature_image.png"
                     height="150px"
                     alt="Signature Image">

            </div>

        </section>

         <!-- Teaser -->

        <section class="row">

            <div class="grid">

                <section class="col-1-4">

                    <h2>June 24, 2017</h2>

                    <ul class="ul-contents">
                        <li><a href="#Background">Background</a></li>
                        <li><a href="#Strategy">Method</a></li>
                        <li><a href="#Demographics">Demographics</a></li>
                        <li><a href="#TargetLocations">Target Location</a></li>
                        <li><a href="#Conclusion">Conclusion</a></li>
                        <li><a href="#DataFiles">DataFiles</a></li>
                        <li><a href="#SourceCode">Jupyter Notebook</a></li>
                        <li><a href="#PythonVersion">Python Version</a></li>
                    </ul>

                </section><!--

                Content

                --><section class="col-2-3">

                    <h1>
                        Canvas NYC for Signature Locations
                    </h1>

                    <h3>
                        Find the people and the signatures will follow.
                    </h3>

                </section>

            </div>

            <div class="col-1-1">
                <br>

                <!-- Background -->

                <a name="Background"></a>
                <h2>Background</h2>

                <p>
                    For this project we are going to place ourselves in the
                    following scenario:
                </p>

                <p>
                    A factious non-profit group called NYC Change
                    (NYC<sup>2</sup>), has contacted our consulting firm to
                    help them obtain signatures for a petition.
                    With enough signatures, our client will get their issue
                    on an upcoming ballot to let the power of the people
                    weigh in on their cause.
                    NYC<sup>2</sup> has a group of eager volunteers lined
                    up to hit the streets and engage the throngs of
                    cheery New Yorkers!
                    Wanting to get the most out of their limited man power,
                    our task is to identify locations and people groups in
                    the city where the engaged citizens will have a
                    predisposition to participate in the democratic process.
                </p>

                <p class="warning">
                    <strong>The stakes are high here!</strong>
                </p>

                <p>
                    If the volunteers fail to pull in enough signatures,
                    <em>we'll</em> be out on the street corner.
                    So with the stage set, let's get to it and help
                    NYC<sup>2</sup> make a difference.
                </p>

                <p>
                    If you would like to investigate any of the datasets
                    used for this project, check out the
                    <a href="#DataFiles">data files</a> section below.
                </p>

                <p>
                    Links to all the <a href="#SourceCode">source code</a>
                    and the project's Notebook are also available.
                </p>

                <!-- Strategy -->

                <a name="Strategy"></a>
                <h2>Strategy</h2>

                <p>
                    To solve any problem, you need a game plan, and the
                    following steps are how we're going to determine a
                    solution for NYC<sup>2</sup>:
                </p>

                <ol>
                    <li>
                        Identify people in New York City that have a
                        high probability of wanting to sign a petition.
                    </li>
                    <li>
                        Make an informed decision about locations in
                        the city where our target audience will be found.
                    </li>
                    <li>
                        Find subway stations near the target locations and
                        analyze the passenger turnstile data to determine
                        times of day to deploy volunteers.
                    </li>
                </ol>

                <p>
                    Who would want to take time out of their busy day to
                    listen for a minute or two and join a cause?
                    I'm willing to bet that people that voted in the last
                    election would.
                </p>

                <!-- Demographics -->

                <a name="Demographics"></a>
                <h2>Demographics</h2>

                <p>
                    As a starting place, let's look at the voting demographics
                    <a href="http://localhost:63342/TimothyHelton.github.io/assets/data/us_age_2016_voter.xls">
                        dataset
                    </a>supplied by the US Census Bureau.
                    The plot below provides a breakdown of people in the
                    country reported to <strong>have voted</strong> in 2016.
                </p>

                <p>
                    Statistics are also presented by the Census Bureau for
                    people who stated they did not vote, and those who
                    chose to not disclose whether they voted.
                    By focusing our attention on the group that chose to
                    report they voted, we are evaluating a known quantity and
                    selecting a group that was proud to have voted.
                    Both of these factors should contribute to acquiring
                    more signatures on the petition.
                </p>

                <img class="center-img"
                     src="assets/images/nyc_signatures/us_voter_age.png"
                     alt="US Voter Age Image">

                <p>
                    Here are a couple of key points to notice from the data:
                </p>

                <ul>
                    <li>
                        Half the people 37 years of age and older voted, and
                        are marked as the "Target Group" above.
                    </li>
                    <li>
                        Gender is fairly equal, but women tended to vote
                        more than men.
                    </li>
                    <li>
                        The age groups in the 70th percentile and higher
                        for turnout were 45, 46, and 49 through 65 as
                        denoted again with the "Target Group" label.
                    </li>
                </ul>

                <br>
                <p>
                    The Census Bureau also supplies an additional
                    <a href="http://localhost:63342/TimothyHelton.github.io/assets/data/states_2016_voter.xls">
                        dataset
                    </a>based only on the voter turnout for New York State.
                    The attributes of this dataset are more focused on
                    people groups than age like the National data above.
                </p>

                <p>
                    Since the total population for each group is supplied by
                    normalizing the positive voters, we should be able to
                    give our volunteer a ranked order of whom to pursue.
                </p>

                <img class="center-img"
                     src="assets/images/nyc_signatures/ny_state_voter.png"
                     alt="New York State Voter Image">

                <p>
                    The key points from this dataset are the following:
                </p>

                <ul>
                    <li>The state data confirms our initial findings that
                        women vote slightly more than men.
                    </li>
                    <li>On first glance one might think to prioritize target
                        groups in the following order; White, Black, Hispanic,
                        and then Asian.
                        But, after the uncertainty of the collected data is
                        taken into account, there is a near tie at the top
                        between Black and White voters.
                    </li>
                </ul>

                <br>
                <h5>Findings</h5>
                <p>
                    After analyzing the 2016 voter turnout statistics, we can
                    now define target groups for the volunteers to engage.
                </p>

                <p>
                    <strong>
                        Remember that the only features that make the
                        target groups more desirable is the increased
                        probability of having voted in the past.
                    </strong>
                </p>

                    <ul>
                        <li>Give preference to women over men.</li>
                        <li>Look for people in the age range of 45-65.</li>
                        <li>
                            Approach people groups in the following order:
                            <ol>
                                <li>Black or White</li>
                                <li>Hispanic</li>
                                <li>Asian</li>
                            </ol>
                        </li>
                    </ul>

                <!-- Target Locations -->

                <a name="TargetLocations"></a>
                <h2>Target Locations</h2>

                <p>
                    For the decade of my twenties I probably went to a hospital
                    only a handful of occasions.
                    Now that I'm older and wiser, I go quite often, and you
                    know who else is there?
                    <strong>
                        Patients in the exact age demographic that we are
                        targeting.
                    </strong>
                </p>

                <p>
                    To find the hospitals in New York City, I scraped names
                    from
                    <a href="https://en.wikipedia.org/wiki/List_of_hospitals_in_New_York_City">
                        this
                    </a> Wikipedia site.
                    After employing some modern day hieroglyphics, also
                    known as regular expressions, I had a list of all the
                    current hospital names.
                    Then I used the Python package
                    <a href="https://github.com/DenisCarriere/geocoder">
                        geocoder
                    </a> to obtain the Latitude and Longitude values of the
                    hospitals.
                    The interactive graphic below displays all the hospitals
                    I found in the city, demarcated with crimson circles.
                    If you hover over a specific location, the name of the
                    hospital will be displayed as a tool tip.
                    To investigate the surrounding area of a hospital,
                    activate the zoom tool on the left.
                </p>

                <div class="grid">

                    <section class="col-450">

                        <iframe
                                src="assets/html/nyc_signatures/hospitals.html"
                                class="nyc-bokeh">
                        </iframe>

                    </section>

                </div>

                <br>
                <h3>Subway Station Data</h3>

                <p>
                    The next two maps show subway locations marked with blue
                    diamonds and hospitals shown in crimson circles.
                    Now we're starting to hone in on ideal canvasing
                    sites.
                </p>

                <div class="grid">

                    <section class="col-450">

                        <iframe
                                src="assets/html/nyc_signatures/stations.html"
                                class="nyc-bokeh">
                        </iframe>

                    </section><!--

                    --><section class="col-450">

                        <iframe
                                src="assets/html/nyc_signatures/stations_locations.html"
                                class="nyc-bokeh">
                        </iframe>

                    </section>

                </div>

                <br>
                <p>
                    By filtering based on the shortest distance from a
                    subway station to a hospital, the potential target
                    locations are now identified in the following map.
                    Now we just need to supply suggested times for the
                    volunteers to descend upon the subway locations.
                </p>

                <div class="grid">

                    <section class="col-450">

                        <iframe
                                src="assets/html/nyc_signatures/stations_interest.html"
                                class="nyc-bokeh">
                        </iframe>

                    </section>

                </div>

                <br>
                <h3>Subway Turnstile Data</h3>

                <p>
                    The
                    <a href="http://www.mta.info/">
                        Metropolitan Transportation Authority (MTA)
                    </a>
                    provides subway turnstile usage on a weekly basis
                    <a href="http://web.mta.info/developers/turnstile.html">
                        here
                    </a>.
                    While interacting with these data files, I found the most
                    recent week's content could have partial entries.
                    I'm sure it's convenient for the majority of users
                    interested in the subway statistics to have this instant
                    incremental supply of updates, but for our situation the
                    empty future values skew the results.
                    The default time period I choose to evaluate was the first
                    full week of available data and the following four weeks
                    after.
                    If you choose to run the supplied code, be aware that the
                    time period will be different.
                    Supplying the dates of <strong>2017-05-13</strong> to
                    <strong>2017-06-10</strong>, you will be able to recreate
                    the same results shown here.
                </p>

                <p>
                    After analyzing the turnstile entrance values for the
                    target locations, it is clear there are three main subway
                    stations that receive a larger volume of passengers.
                    In an attempt to refine our deployment of volunteers in an
                    automated fashion, I chose to select the minimum number
                    of stations that would comprise up to 90% of the
                    total station entrance values to be our top sites of
                    interest.
                    We'll focus our efforts on the following stations.
                </p>

                <ol>
                    <li>Fulton Street</li>
                    <li>Dekalb Avenue</li>
                    <li>7<sup>th</sup> Avenue</li>
                </ol>


                <img class="center-img"
                     src="assets/images/nyc_signatures/turnstile_target_stations.png"
                     alt="NYC Turnstile Target Stations">

                <br>
                <p>
                    Would a particular day of the week provide larger
                    volumes of people for us to engage?
                    As it turns out for this scenario, the trains that come
                    to these stations are packed... all the time.
                    This means that any day we chose will be a great day.
                </p>

                <p>
                    I checked, re-checked and re-double checked the values
                    and the scale of <em>billions</em> for the following plot
                    is correct.
                    The shear number of people that ride the subway in New
                    York City is pretty astounding!
                </p>


                <img class="center-img"
                     src="assets/images/nyc_signatures/turnstile_daily_totals.png"
                     alt="NYC Turnstile Daily Totals">

                <br>
                <p>
                    Remember we are looking for our target sample of people
                    who had a medical appointment at the hospital near our
                    subway station.
                    The turnstile exit values represent people on their way
                    to an appointment.
                    They could be running late or worried about the outcome
                    of their visit.
                    Being perpetual optimists we are going to wish them the
                    best of luck, which will no doubt, result in all their
                    medical ailments being cured.
                    Now... they have made it to the hospital, completed
                    their business there, and are heading back to the subway
                    to get on with their day.
                    What time is it?
                    Time to get some signatures.
                </p>

                <p>
                    The average turnstile values broken down by day of the
                    week for each station are shown in the following graphics.
                    I chose a window of 9:00am to 5:00pm thinking this would
                    encapsulate the bulk of hospital patrons returning to
                    the subway.
                    Each station yielded a different optimum time as shown
                    in the table below.
                    A 30 minute pad was added to the train departure times
                    to give the volunteers time to work the crowd.
                </p>

                <br>
                <h5>Findings</h5>

                <table class="schema">
                    <thead>

                    <tr class="bb">
                        <th>NYC Subway Station</th>
                        <th>Day of the Week</th>
                        <th>Target Time of Day</th>
                    </tr>

                    <tr>
                        <td>Fulton Street</td>
                        <td>Monday - Friday</td>
                        <td>10:30am - 3:00pm</td>
                    </tr>

                    <tr>
                        <td>Dekalb Avenue</td>
                        <td>Monday - Friday</td>
                        <td>11:30am - 4:00pm</td>
                    </tr>

                    <tr>
                        <td>7<sup>th</sup> Avenue</td>
                        <td>Monday - Friday</td>
                        <td>08:30am - 5:00pm</td>
                    </tr>

                    </thead>

                </table>

                <img class="center-img"
                     src="assets/images/nyc_signatures/turnstile_daily_fulton.png"
                     alt="NYC Turnstile Daily Fulton Average">

                <img class="center-img"
                     src="assets/images/nyc_signatures/turnstile_daily_dekalb.png"
                     alt="NYC Turnstile Daily Dekalb Average">

                <img class="center-img"
                     src="assets/images/nyc_signatures/turnstile_daily_7av.png"
                     alt="NYC Turnstile Daily 7 Average">

                <!-- Conclusion -->

                <a name="Conclusion"></a>
                <h2>Conclusion</h2>

                <p>
                    We set out to help a company NYC Change (NYC<sup>2</sup>),
                    determine where to send volunteers in New York City to
                    acquire signatures for a petition.
                </p>

                <ul>
                    <li>
                        Evaluating voting demographics from the 2016 US
                        election established a target age, gender and ranking
                        of people groups most likely to participate in
                        democracy.
                    </li>
                    <li>
                        Then a hypothesis was posed that our audience would
                        frequent hospitals for routine medical checkups, and
                        use the public transit system to get there.
                    </li>
                    <li>
                        Cross referencing the geographic locations of subway
                        stations to hospitals in New York City produced a list
                        of ten prospect sites to deploy NYC<sup>2</sup>
                        volunteers.
                    </li>
                </ul>

                <br>
                <p>
                    The results of our study are as follows:
                </p>

                <div class="grid">

                    <section class="col-450">

                        <iframe
                                src="assets/html/nyc_signatures/target_stations.html"
                                class="nyc-bokeh">
                        </iframe>

                    </section><!--

                    --><section class="col-450">

                        <h3>Demographics</h3>
                        <ul>
                            <li>
                                Give preference to <strong>WOMEN</strong> over
                                men.
                            </li>
                            <li>
                                Target people in the age range of
                                <strong>45 - 65</strong>.
                            </li>
                            <li>
                                Approach people groups in the following order:
                                <ol>
                                    <li>
                                        <strong>BLACK</strong> or
                                        <strong>WHITE</strong>
                                    </li>
                                    <li>Hispanic</li>
                                    <li>Asian</li>
                                </ol>
                            </li>
                        </ul>

                        <h3>Subway Stations</h3>
                        <table class="schema">
                            <thead>

                            <tr class="bb">
                                <th>NYC Subway Station</th>
                                <th>Day of the Week</th>
                                <th>Target Time of Day</th>
                            </tr>

                            <tr>
                                <td>Fulton Street</td>
                                <td>Monday - Friday</td>
                                <td>10:30am - 3:00pm</td>
                            </tr>

                            <tr>
                                <td>Dekalb Avenue</td>
                                <td>Monday - Friday</td>
                                <td>11:30am - 4:00pm</td>
                            </tr>

                            <tr>
                                <td>7<sup>th</sup> Avenue</td>
                                <td>Monday - Friday</td>
                                <td>08:30am - 5:00pm</td>
                            </tr>

                            </thead>

                        </table>

                    </section>

                </div>

                <br>
                <p>
                    I learned a number of new techniques on this project.
                    The most interesting of which was the potential to combine
                    seemingly unrelated genres of information into a
                    meaningful insightful composite.
                    Thanks for reading.
                </p>

                <!-- Data Files -->

                <a name="DataFiles"></a>
                <h2>Data Files</h2>

                <p>The following data files were used in the project.</p>

                <table class="schema">

                    <thead>

                    <tr class="bb">
                        <th>Data File</th>
                        <th>Original Source</th>
                    </tr>

                    <tr>
                        <td>
                            <h6>
                                <a href="http://web.mta.info/developers/turnstile.html">
                                    Metropolitan Transportation Authority (MTA)
                                </a>
                            </h6>
                        </td>
                        <td>
                            <h6>
                                <a href="http://web.mta.info/developers/turnstile.html">
                                    MTA Website
                                </a>
                            </h6>
                            <div class="col-1-1">
                                Subway Turnstile Usage
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <h6>
                                <a href="assets/data/nyc_hospitals.csv">
                                    New York City Hospitals
                                </a>
                            </h6>
                        </td>
                        <td>
                            <h6>
                                <a href="https://en.wikipedia.org/wiki/List_of_hospitals_in_New_York_City">
                                    Wikipedia
                                </a>
                            </h6>
                            <div class="col-1-1">
                                NYC Hospital Names And Locations
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <h6>
                                <a href="assets/data/nyc_subway_locations.csv">
                                    New York State Subway Stations
                                </a>
                            </h6>
                        </td>
                        <td>
                            <h6>
                                <a href="https://catalog.data.gov/dataset/nyc-transit-subway-entrance-and-exit-data">
                                    DATA.GOV
                                </a>
                            </h6>
                            <div class="col-1-1">
                                NYC Transit Subway Entrance And Exit Data
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <h6>
                                <a href="assets/data/states_2016_voter.xls">
                                    2016 State Voter Data
                                </a>
                            </h6>
                        </td>
                        <td>
                            <h6>
                                <a href="https://www2.census.gov/programs-surveys/cps/tables/p20/580/table04b.xls">
                                    United States Census Bureau
                                </a>
                            </h6>
                            <div class="col-1-1">
                                2016 Voter Data Table 4b
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <h6>
                                <a href="assets/data/us_age_2016_voter.xls">
                                    2016 United States Voter Data
                                </a>
                            </h6>
                        </td>
                        <td>
                            <h6>
                                <a href="https://www2.census.gov/programs-surveys/cps/tables/p20/580/table01.xls">
                                    United States Census Bureau
                                </a>
                            </h6>
                            <div class="col-1-1">
                                2016 Voter Data Table 1
                            </div>
                        </td>
                    </tr>

                    </thead>

                </table>

                <!-- Source Code -->

                <a name="SourceCode"></a>
                <h2>Source Code</h2>

                <p>
                    <a href="https://github.com/TimothyHelton/nyc_signature/blob/master/notebooks/NYC_Signature.ipynb">
                        Jupyter Notebook
                    </a>
                    <br>
                    Follow this link to view the project's notebook.
                </p>

                <p>
                    <a href="https://github.com/TimothyHelton/nyc_signature/tree/master/nyc_signature">
                        Python Modules
                    </a>
                    <br>
                    Follow this link to view the project's modules.
                </p>

                <p>
                    <strong>Note</strong>:
                    <br>
                    To create the geographic plots a
                    <a href="https://developers.google.com/maps/documentation/javascript/get-api-key">
                        Google API Key
                    </a> is required.
                    The key is easy to obtain, but make sure to not share your
                    key.
                    For more details check out Google's site.
                </p>

                <!-- Python Version -->

                <a name="PythonVersion"></a>
                <h2>Versions</h2>

                <p>
                    This study was completed using the
                    <a href="https://www.continuum.io/downloads">
                        Anaconda
                    </a>
                    distribution of Python 3.6.1.
                </p>

            </div>

        </section>

        <!-- Disqus Comments -->

        <div class="comments" id="disqus_thread"></div>
        <script>

        var disqus_config = function () {
            this.page.url = "https://timothyhelton.github.io/nyc_signature.html";
            this.page.identifier = "nyc_signature";
        };
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://timothyhelton-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

        <script id="dsq-count-scr" src="//timothyhelton-github-io.disqus.com/count.js" async></script>

        <!-- Footer -->

        <footer class="primary-footer container group">

            <small>&copy; Timothy Helton</small>

            <nav class="nav primary-nav">
                <ul>
                    <li><a href="index.html">Home</a></li><!--
                    --><li><a href="about.html">About</a></li><!--
                    --><li><a href="projects.html">Projects</a></li><!--
                    --><li><a href="blog.html">Blog</a></li><!--
                    --><li>
                        <a href="https://github.com/TimothyHelton">GitHub</a>
                       </li>
                </ul>
            </nav>

        </footer>

    </body>

</html>
